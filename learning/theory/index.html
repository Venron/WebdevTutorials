<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="Cache-control" content="no-cache">
    <title>Theoretics</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  </head>

  <body>
    <header>
      <div class="container">
        <div class="jumbotron jumbotron-fluid" style="border-radius: 0">
          <div class="container">
            <h2 align="center" id="siteHead">Theoretics of Web Development</h2>
          </div>
        </div>
      </div>
    </header>
    <main>
      <div class="container">
        <h3>Structure</h3>
        <ol>
          <li><a href="#how-the-internet-works-for-developers">How the Internet Works for Developers</a></li>
          <ul>
            <li><a href="#how-the-internet-works-for-developers-part1">Part 1</a></li>
            <li><a href="#how-the-internet-works-for-developers-part2">Part 2</a></li>
          </ul>
          <li><a href="#what-makes-javascript-weird-and-awesome">What Makes JavaScript Weird... and AWESOME</a></li>
          <ul>
            <li><a href="#what-makes-javascript-weird-and-awesome-part1">Part 1</a></li>
            <li><a href="#what-makes-javascript-weird-and-awesome-part2">Part 2</a></li>
            <li><a href="#what-makes-javascript-weird-and-awesome-part3">Part 3</a></li>
            <li><a href="#what-makes-javascript-weird-and-awesome-part4">Part 4</a></li>
            <li><a href="#what-makes-javascript-weird-and-awesome-part5">Part 5</a></li>
          </ul>
          <li><a href="#nicht-kategorisierte-tipps">Nicht-kategorisierte Tipps</a></li>
          <ul>
            <li><a href="#html-value-elementteilen-veraendern">HTML-Value von Elementteilen verändern</a></li>
            <li><a href="#konflikte-mit-this-bei-selektoren">Konflikte mit "this" bei Selektoren</a></li>
            <li><a href="#asynchrone-aufrufe-mit-javascript">Asynchrone Aufrufe mit JavaScript</a></li>
            <li><a href="#ajax-requests-verschicken">AJAX-Requests verschicken</a></li>
          </ul>
        </ol>
        <div id="how-the-internet-works-for-developers">
          <h3>How the Internet Works for Developers</h3>
          <br>
          <h4 id="how-the-internet-works-for-developers-part1">Part 1</h4>
          <p>
            Bekannt.
          </p>
          <h4 id="how-the-internet-works-for-developers-part2">Part 2</h4>
          <p>
            <ul>
              <li>LAMP = Linux, Apache, MySQL, PHP</li>
              <li>Scaling</li>
              <ul>
                <li>Wenn zu viele User auf eine Webseite zugreifen, werden exakte Kopien der Seite auf verschiedene Server gelegt</li>
                <li>Anschließend wird ein Load Balancer (auch: Frontend-Server) verwendet, um die Anfragen auf die verschiedenen Server zu verteilen, die dann jeweils die Requests verarbeiten (Wikipedia: Round-Robin wird auch zur Lastverteilung (load balancing)
                  verwendet. Ziel der Lastverteilung ist es, mehrere gleichartige Ressourcen möglichst gleichmäßig zu beanspruchen.)</li>
                <li>Der DNS-Eintrag für die Seite (z.b. google.com) zeigt nun auf die IP-Adresse des Load Balancers und nicht auf die eigentlichen Processing Servers</li>
                <li>Scaling bedeutet also allgemein, nicht durch Aufstockung der Ressourcen auf <strong>einer</strong> Maschine zu skalieren, sondern durch das Hinzufügen neuer Server zu skalieren</li>
                <li>Dazu kommt: es bedarf nun einem Deployment-Prozess, mit dem der Code mit nur einem Befehl auf alle anderen Server verteilt werden kann (Backend-Bereich)</li>
              </ul>
            </ul>
          </p>
        </div>
        <div id="what-makes-javascript-weird-and-awesome">
          <h3>What Makes JavaScript Weird... and AWESOME</h3>
          <p>5 things that make JavaScript weird... and awesome:</p>
          <ul>
            <li>First Class Functions</li>
            <li>Event-Driven Environment</li>
            <li>Closures</li>
            <li>Scope</li>
            <li>Context</li>
          </ul>
          <br>
          <h4 id="what-makes-javascript-weird-and-awesome-part1">Part 1</h4>
          <p>
            <ul>
              <li>Callback-Methoden werden verwendet, um Code der Übersicht halber zu kapseln</li>
              <li>Diese Methoden werden aufgerufen, wenn eine Sequenz an Befehlen beendet wurde</li>
              <li>Callback-Methoden können in JavaScript wie normale Variablen übergeben werden</li>
              <li>Implementiere eine "normale" Methode:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
function add(first, second) {
  console.log(first + second);
}
</pre>
                  </div>
                </div>
              </p>
              <li>Test die Methode (noch ohne Callback-Methode): </li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
add(2, 3);
add(4, 5);
</pre>
                  </div>
                </div>
              </p>
              <li>Implementiere eine Callback-Methode:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
function logDone() {
  console.log("done");
}
</pre>
                  </div>
                </div>
              </p>
              <li>Erweitere die normale Methode um die Callback-Methode und überprüfe, ob eine Callback-Methode übergeben wurde:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
function add(first, second, callback) {
  console.log(first + second);
  if(callback) {
    callback();
  }
}
</pre>
                  </div>
                </div>
              </p>
              <li>Teste die Methode und übergebe einmal eine Callback-Methode und einmal nicht:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
add(2, 3, logDone);
add(4, 5);
</pre>
                  </div>
                </div>
              </p>
          </p>
          <li>Folgendes Ergebnis sollte auf der Konsole erscheinen:</li>
          <p>
            <div class="row">
              <div class="col-xs-10 col-xs-offset-1 col2">
                <pre>
> 5
> done
> 9
</pre>
              </div>
            </div>
          </p>
          </ul>
          <br>
          <h4 id="what-makes-javascript-weird-and-awesome-part2">Part 2</h4>
          <p>
            <ul>
              <li>Event-Driven Environment: z.B. wenn JavaScript mithilfe einer First-Class Funktion auf einen Button-Klick reagiert</li>
              <li>JavaScript an sich ist nicht schneller als andere Sprachen, es erscheint nur schneller, weil es eventgebunden ist. Das bedeutet, es kann zwar eine große Menge an Code laden, dieser wird aber im Speicher abgelegt und nur dann ausgeführt,
                wenn das Event tatsächlich auftritt. Nur der Code der benötigt wird wird aus dem Speicher ausgeführt.</li>
              <li>NodeJS: Die Anwendung läuft, wenn eine Page Request reinkommt, wird nur der Code ausgeführt, der mit dieser Page Request zu tun hat</li>
              <li>Die Argumentenfunktion (z.b. bei <code>$("#btn1").click(function(){...})</code>) ist eine Callback-Funktion (wird nur aufgerufen, wenn sie benötigt wird).</li>
              <li>Diese Eventgetriebenheit verursacht allerdings neue Probleme, die mit Techniken wie Closures, Scope oder Context behoben werden muss</li>
            </ul>
          </p>
          <br>
          <h4 id="what-makes-javascript-weird-and-awesome-part3">Part 3</h4>
          <p>
            <ul>
              <li>Closures, Scope und Context wurden wegen dem Event-Driven Environment erstellt</li>
              <li>Closures:</li>
              <ul>
                <li>Behält den State und den Scope bei, nachdem es ausgeführt wurde</li>
                <li>Beispiel: Inkrementierung einer Variable innerhalb eines Closures bei Button-Klick. Jedes Mal wenn der Button erneut geklickt wurde, wird die Variable um eins weiter inkrementiert</li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
$(document).ready(function() {
  var a = 1;

  // Klick 1: 1, Klick 2: 2, Klick n: n
  $("#btn1").click(function() {
    a++;
    console.log(a);
  });
});
</pre>
                    </div>
                  </div>
                </p>
                <li>JavaScript behält die Variable solange im Hauptspeicher, bis keine Referenz mehr auf die Variable existiert</li>
                <li>Lösche den Event-Listener: <code>$("#btn1").off("click");</code></li>
                <li>Der Speicherort, in dem diese Variablen gespeichert werden, heißt <strong>Closure</strong></li>
              </ul>
            </ul>
          </p>
          <br>
          <h4 id="what-makes-javascript-weird-and-awesome-part4">Part 4</h4>
          <p>
            <ul>
              <li>Wenn kein konkreter Scope definiert wurde, befindet sich man im Window-Scope. Definiere eine Variable <code>var a = 1;</code>. Gebe den Wert dieser Variable in der Konsole aus mit <code>window.a</code>. Die Ausgabe ist <code>1</code></li>
              <li>Funktionen sind Child-Scopes, in denen wiederum Variablen mit dem gleichen Namen deklariert werden können, jedoch unabhängig von den Variablen des Window-Scopes sind</li>
              <li>Variablen eines Scopes können folgendermaßen verändert werden:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
var a = 1;
function foo() {
  a = 2;
}
console.log(a); // ==> Ausgabe: 1
</pre>
                  </div>
                </div>
              </p>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
var a = 1;
function foo() {
  a = 2;
}
foo();
console.log(a); // ==> Ausgabe: 2
</pre>
                  </div>
                </div>
              </p>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
function foo() {
  a = 2;
}
console.log(a); // ==> Ausgabe: Error: a is undefined
</pre>
                  </div>
                </div>
              </p>
              <li>So können globale Variablen mit Methoden nach eigenem Belieben gesetzt/modifiziert werden</li>
              <li>Variable Pollution: Wenn anstatt <code>var a = 2;</code> die globale Variable verändert wird mit <code>a = 2</code>, anstatt nur eine Variable innerhalb eines Child-Scopes zu erzeugen</li>
            </ul>
          </p>
          <br>
          <h4 id="what-makes-javascript-weird-and-awesome-part5">Part 5</h4>
          <p>
            <ul>
              <li>Der Default-Kontext <code>this</code> ist von <code>window</code>, kann also auch mit <code>window.this</code> aufgerufen werden</li>
              <li>Überprüfen lässt sich dies mit <code>console.log(this == window)</code>, was <code>true</code> zurückgibt</li>
              <li>Wir können nun unseren eigenen Kontext implementieren:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
var obj = {
  foo: function() {
    console.log(obj); // ==> Object {foo: function}
    console.log(this == obj); // ==> true
    console.log(this == window); // ==> false
  }
}
</pre>
                  </div>
                </div>
              </p>
              <li>Die 3 Methoden, um in JavaScript den Kontext zu verändern sind: </li>
              <ul>
                <li><code>call()</code></li>
                <li><code>apply()</code></li>
                <li><code>bind()</code></li>
              </ul>
              <li><code>call()</code></li>
              <ul>
                <li>Wird verwendet, um Methoden mit einem anderen Kontext aufzurufen</li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
var obj = {
  foo: function() {
    console.log("this == obj: " + this == obj);
    console.log("this == window: " + this == window);
  }
}

obj.foo(); // this == obj: true
           // this == window: false
</pre>
                    </div>
                  </div>
                </p>
                <li>Aufruf mit <code>call()</code>:</li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
obj.foo.call(window); // this == obj: false
                      // this == window: true
</pre>
                    </div>
                  </div>
                </p>
                <li>Wird <code>call()</code> nach dem Kontextobjekt noch mehrere Argumente mitgegeben, werden diese als Funktionsargumente der eigentlich aufgerufenen Funktion betrachtet. Nehmen wir Funktion <code>function foo(one, two) {...}</code> an, können
                  wir diese mit <code>obj.foo.call(window, 1, 2);</code> aufrufen</li>
              </ul>
              <li><code>apply()</code></li>
              <ul>
                <li><code>apply()</code> besitzt die selbe Funktionsweise wie <code>call()</code>, nur dass die Funktionsargumente als Array übergeben werden</li>
                <li><code>apply()</code> kann wie folgt verwendet werden: <code>obj.foo.apply(window, [1, 2]);</code></li>
              </ul>
              <li><code>bind()</code></li>
              <ul>
                <li><code>bind()</code> führt die Funktion nicht aus, sondern returned eine <em>Bound function</em></li>
                <li>Die zurückgegebene Funktion wird nun immer im übergebenen Kontext ausgeführt: </li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
var myBoundFoo = obj.foo.bind(window);
myBoundFoo(); // Wird immer im Kontext "window" ausgeführt
myBoundFoo();
myBoundFoo();
</pre>
                    </div>
                  </div>
                </p>
              </ul>
              <li>Wenn nun beispielsweise <code>this</code> im Kontext von jQuery verwendet hat, referenziert <code>this</code> immer auf das Element, das z.B. angeklickt wurde</li>
              <li>Beispiel: </li>
              <ul>
                <li>3 li's, die jeweils einen eigenen Clickcounter besitzen. Die Clickcounter-Zahl ist jeweils in einem <code>&lt;span&gt;&lt;/span&gt;</code> -Tag</li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
$(document).ready(function() {
  $("li").click(function() {
    var clickCount = parseInt($(this).find("span").html());
    $(this).find("span").html(clickCount+1);
  });
});
</pre>
                    </div>
                  </div>
                </p>
              </ul>
            </ul>
          </p>
        </div>
        <div id="nicht-kategorisierte-tipps">
          <h3>Nicht-kategorisierte Tipps</h3>
          <br>
          <h4 id="html-value-elementteilen-veraendern">HTML-Value von Elementteilen verändern</h4>
          <p>
            <ul>
              <li>Kapsle den Wert, der verändert werden soll (z.B. eine Zahl) innerhalb eines <code>&lt;span&gt;&lt;/span&gt;</code> -Tags. Falls es sich um einen speziellen werd handel, kann diesem noch eine ID oder Klasse zugeordnet werden</li>
              <li>Hole den Wert per jQuery aus dem aktuellen Kontext (bspw. falls sich diese span innerhalb einer Liste befinden):</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
var val = parseInt($(this).find("li #myLi").html());
$(this).find("li #myLi").html(newValue);
</pre>
                  </div>
                </div>
              </p>
            </ul>
          </p>
          <br>
          <h4 id="konflikte-mit-this-bei-selektoren">Konflikte mit "this" bei Selektoren</h4>
          <p>
            <ul>
              <li>Wir wollen ein <code>&lt;div&gt;</code> öffnen und anschließend den Button, der dieses Element öffnet, auf <em>active</em> setzen mit <code>toggleClass("activee")</code></li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
$("#opendiv").click(function() {
  $(this).toggleClass("active"); // this = Button #opendiv
  $("#div1").slideToggle();
});
</pre>
                  </div>
                </div>
              </p>
              <li>Angenommen, der Button soll erst auf <em>active</em> gesetzt werden, nachdem das div geöffnet wurde. Dafür können wir als zweites Argument bei <code>slideToggle()</code> eine Callback-Methode angeben:</li>
              <p>
                <div class="row">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
$("#opendiv").click(function() {
  $("#div1").slideToggle(200, function() {
    $(this).toggleClass("active");
  });
});
</pre>
                  </div>
                </div>
              </p>
              <li>Achtung: Hier kann nun der Button #div1 nicht mit <code>this</code> aufgerufen werden, da wir uns nun im Kontext von #div1 befinden</li>
              <li>Hier gibt es nun mehrere Möglichkeiten:</li>
              <ul>
                <li>Möglichkeit 1:</li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
$("#opendiv").click(function() {
  var _self = this; // Rufe die Kontextvariable auf
  $("#div1").slideToggle(200, function() {
    $(_self).toggleClass("active");
  });
});
</pre>
                    </div>
                  </div>
                </p>
                <li>Möglichkeit 2:</li>
                <p>
                  <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col2">
                      <pre>
$("#opendiv").click(function() {
  $("#div1").slideToggle(200, function() {
    $(this).toggleClass("active");
  }.bind(this)); // Übergebe das Kontextobjekt direkt an die Funktion
                 // so kann wieder "this" verwendet werden
});
</pre>
                    </div>
                  </div>
                </p>
              </ul>
            </ul>
          </p>
          <br>
          <h4 id="asynchrone-aufrufe-mit-javascript">Asynchrone Aufrufe mit JavaScript</h4>
          <p>
            <ul>
              <li>Es gibt 4 Möglichkeiten, Content asynchron zu laden.</li>
              <ul>
                <li><a target="_blank" href="content/1/async_js.html">HTML Template</a></li>
                <li>Möglichkeit 1: <a target="_blank" href="content/1/callback.js">callback.js</a></li>
                <li>Möglichkeit 2: <a target="_blank" href="content/1/clean-callback.js">clean-callback.js</a></li>
                <li>Möglichkeit 3: <a target="_blank" href="content/1/promises.js">promises.js</a></li>
                <li>Möglichkeit 4: <a target="_blank" href="content/1/generators.js">generators.js</a></li>
              </ul>
            </ul>
          </p>
          <br>
          <h4 id="ajax-requests-verschicken">AJAX-Requests schicken</h4>
          <p>
            <ul>
              <li>Eine AJAX-Request kann folgendermaßen geschickt werden:</li>
              <p>
                <div class="container">
                  <div class="col-xs-10 col-xs-offset-1 col2">
                    <pre>
$.ajax({
    type: "GET",
    url "abc.json",
    success: function(returnedJsonObject) {
      doSuccessRoutine();
    },
    error: function(xhr, status, error) {
      doErrorRoutine();
    }
});
</pre>
                  </div>
                </div>
              </p>
              <li><code>type</code>: Gibt den HTTP-Format an, mit dem JSON geholt werden soll. Im JSON-Path können auch Parameter wie <code>?id=1</code> angegeben werden</li>
              <li><code>url</code>: Die URL, an der die JSON-Datei liegt (oder auch eine API-URL, für dynamisch erzeugtes JSON). Es ist auch möglich in der URL Parameter anzugeben</li>
              <li><code>success</code>: Callback-Funktion, wenn JSON erfolgreich geladen wurde (HTTP-Response: 200). Die Funktion wird mit dem geladenen JSON-Objekt als Parameter aufgerufen</li>
              <li><code>error:</code>: Callback-Funktion, wenn JSON nicht geladen werden konnte (HTTP-Response: 404). Die Funktion wird mit 3 Paramtern aufgerufen</li>
              <ul>
                <li>xhr: XMLHttpRequest</li>
                <li>status: HTTP-Status</li>
                <li>error: Fehlermeldung (z.B. "Not found")</li>
              </ul>
              <li>Das alles wird in ein Array verpackt, das anschließend aufgerufen werden kann</li>
            </ul>
          </p>
        </div>
      </div>
      </div>
      </div>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
    </main>
    <div class="container">
      <div class="footer navbar-fixed-bottom">
        <div style="padding: 12px; background: #f5f5f5">
          <div class="row">
            <div class="col-xs-2">
              <a href="#siteHead" class="btn btn-secondary" style="padding: 0">Top</a>
            </div>
            <div class="col-xs-10" align="center">
              <span align="right" id="footer-copyright"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="libs\jquery-3.2.1.min.js"></script>
  <script type="text/javascript">
    var d = new Date();
    $(document).ready(function() {
      $("#footer-copyright").html("Copyright (c) " + d.getFullYear() + " Marc Friedrich. All Rights Reserved.");
    });
  </script>
  <script type="text/javascript">
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </body>

</html>
